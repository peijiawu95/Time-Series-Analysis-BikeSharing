DATA ABCD;
SET SASUSER.NEWBIKE;
TIME=_N_;

*REMOVE LAST 5 VALUES OF IRC;
IF TIME>2557 THEN total_cust=.;

* CREATING SINE AND COSINE TERMS AFTER LOOKING AT THE PERIODOGRAM;
* sas does not have pie so we use 3.14159;
* cos(2*pie*i*t/n);

COS1=COS(2*3.14159*TIME*1/2557);
SIN1=SIN(2*3.14159*TIME*1/2557);

COS2=COS(2*3.14159*TIME*2/2557);
SIN2=SIN(2*3.14159*TIME*2/2557);

COS3=COS(2*3.14159*TIME*3/2557);
SIN3=SIN(2*3.14159*TIME*3/2557);

COS7=COS(2*3.14159*TIME*7/2557);
SIN7=SIN(2*3.14159*TIME*7/2557);

COS4=COS(2*3.14159*TIME*4/2557);
SIN4=SIN(2*3.14159*TIME*4/2557);

COS5=COS(2*3.14159*TIME*5/2557);
SIN5=SIN(2*3.14159*TIME*5/2557);

COS6=COS(2*3.14159*TIME*6/2557);
SIN6=SIN(2*3.14159*TIME*6/2557);

COS8=COS(2*3.14159*TIME*8/2557);
SIN8=SIN(2*3.14159*TIME*8/2557);

COS14=COS(2*3.14159*TIME*14/2557);
SIN14=SIN(2*3.14159*TIME*14/2557);

COS15=COS(2*3.14159*TIME*15/2557);
SIN15=SIN(2*3.14159*TIME*15/2557);

COS23=COS(2*3.14159*TIME*23/2557);
SIN23=SIN(2*3.14159*TIME*23/2557);

COS375=COS(2*3.14159*TIME*375/2557);
SIN375=SIN(2*3.14159*TIME*375/2557);


proc print;
run;
* p is a key word represents prediction;

PROC REG;
 MODEL total_cust=TIME COS1 SIN1 COS2 SIN2 COS3 SIN3 COS7 SIN7 COS4 SIN4 COS5 SIN5 COS6 SIN6 COS8 SIN8 COS14 SIN14 COS15 SIN15 COS23 SIN23 COS375 SIN375;
 OUTPUT OUT=results P=PRED;

 proc print data=results;
 run;
  

PROC GPLOT;
PLOT (TOTAL_CUST PRED)*TIME/OVERLAY;
SYMBOL I=JOIN;
RUN;

